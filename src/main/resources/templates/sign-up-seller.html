<!doctype html>
<html class="no-js" lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Home Page</title>
    <meta name="robots" content="noindex, follow"/>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Favicon -->
    <link rel="shortcut icon" type="image/x-icon" href="../static/images/favicon.png">
    <!-- CSS
    ============================================ -->
    <link rel="stylesheet" th:href="@{/css/vendor/bootstrap.min.css}">
    <link rel="stylesheet" th:href="@{/css/vendor/font-awesome.css}">
    <link rel="stylesheet" th:href="@{/css/vendor/flaticon/flaticon.css}">
    <link rel="stylesheet" th:href="@{/css/vendor/slick.css}">
    <link rel="stylesheet" th:href="@{/css/vendor/slick-theme.css}">
    <link rel="stylesheet" th:href="@{/css/vendor/jquery-ui.min.css}">
    <link rel="stylesheet" th:href="@{/css/vendor/sal.css}">
    <link rel="stylesheet" th:href="@{/css/vendor/magnific-popup.css}">
    <link rel="stylesheet" th:href="@{/css/vendor/base.css}">
    <link rel="stylesheet" th:href="@{/css/style.min.css}">
    <link rel="stylesheet" th:href="@{/css/style-2.css}">
</head>

<body>
<div class="axil-signin-area">

<!--    &lt;!&ndash; Start Header &ndash;&gt;-->
<!--    <div class="signin-header">-->
<!--        <div class="row align-items-center">-->
<!--            <div class="col-md-6">-->
<!--                <a href="/homepage" class="site-logo"><img src="../static/images/logo/vj-market.png" alt="logo"></a>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->
<!--    &lt;!&ndash; End Header &ndash;&gt;-->

    <div class="row">
        <div class="col-xl-4 col-lg-6">
            <div class="axil-signin-banner bg_image bg_image--10">
                <a href="/homepage" class="site-logo"><img th:src="@{/images/logo/vj-market.png}" alt="logo"></a>
                <br><br>
                <h3 class="title">Chúng tôi cung cấp những sản phẩm tốt nhất</h3>
            </div>
        </div>
        <div class="col-lg-6 offset-xl-2">
            <div class="axil-signin-form-wrap">
                <div class="axil-signin-form">
                    <form class="signin-form" th:action="@{/sign-up-seller}" method="post">
                        <div th:if="${errorMessage}" class="alert alert-danger mt-2" role="alert">
                            <span th:text="${errorMessage}"></span>
                        </div>
                        <br>
                        <p class="b2 mb--55">Nhập thông tin cửa hàng</p>

                        <div class="form-group">
                            <label>Tên cửa hàng <span>*</span></label>
                            <input type="text" class="form-control" name="storeName" required>
                        </div>

                        <div class="form-group">
                            <label>Số điện thoại <span>*</span></label>
                            <input type="text" class="form-control" name="storePhone" required>
                        </div>

                        <div class="form-group">
                            <label>Địa chỉ giao hàng</label>
                        </div>

                        <!-- Japan Fields -->
                        <div id="japanFields" class="address-fields hidden">
                            <div class="form-group">
                                <label>郵便番号 (Mã bưu điện)</label>
                                <input type="text" id="jpPostalCode" name="postalCode" placeholder="XXX-XXXX" maxlength="8" required>
                            </div>

                            <div class="form-group">
                                <label>Thành phố</label>
                                <select id="geoapi-prefectures" class="form-control" name="storeCity">
                                    <option value="">Chọn Thành phố</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label>Quận</label>
                                <select id="geoapi-cities" class="form-control" name="storeDistrict">
                                    <option value="">Chọn Quận/Huyện</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label class="control-label">Phường/Xã (Town)</label>
                                <select id="geoapi-towns" class="form-control" name="storeTown">
                                    <option value="">Chọn Phường/Xã</option>
                                </select>  </div>
                            <div class="form-group">
                                <label class="control-label">Địa Chỉ</label>
                                <input class="form-control" type="text" name="storeAddress">
                            </div>
                        </div>

                        <br>
                        <div class="form-group mb--0">
                            <input type="submit" class="axil-btn" value="Sign Up">
                        </div>
                    </form>

                </div>
            </div>
        </div>
    </div>
</div>
<script src=”https://code.jquery.com/jquery-3.5.1.min.js”></script>
<script type=”text/javascript” src=”http://geoapi.heartrails.com/api/geoapi.js”></script>
<!-- JS ============================================ -->
<script th:src="@{/js/vendor/modernizr.min.js}"></script>
<script th:src="@{/js/vendor/jquery.js}"></script>
<script th:src="@{/js/vendor/popper.min.js}"></script>
<script th:src="@{/js/vendor/bootstrap.min.js}"></script>
<script th:src="@{/js/vendor/slick.min.js}"></script>
<script th:src="@{/js/vendor/js.cookie.js}"></script>
<script th:src="@{/js/vendor/jquery-ui.min.js}"></script>
<script th:src="@{/js/vendor/jquery.ui.touch-punch.min.js}"></script>
<script th:src="@{/js/vendor/jquery.countdown.min.js}"></script>
<script th:src="@{/js/vendor/sal.js}"></script>
<script th:src="@{/js/vendor/jquery.magnific-popup.min.js}"></script>
<script th:src="@{/js/vendor/imagesloaded.pkgd.min.js}"></script>
<script th:src="@{/js/vendor/isotope.pkgd.min.js}"></script>
<script th:src="@{/js/vendor/counterup.js}"></script>
<script th:src="@{/js/vendor/waypoints.min.js}"></script>
<script th:src="@{/js/main.js}"></script>
<script th:src="@{/js/script.js}"></script>
</body>

<script>
    const geoapiUrl = "http://geoapi.heartrails.com/api/json?jsonp=?";
    // Initialize Prefectures
    function geoApiInitializePrefectures() {
        $("#geoapi-prefectures").html('<option value="">Chọn Thành phố</option>');
        $.getJSON(geoapiUrl, { method: "getPrefectures" }, (json) => {
            const prefectures = json.response.prefecture;
            prefectures.forEach((prefecture) => {
                const option = `<option value="${prefecture}">${prefecture}</option>`;
                $("#geoapi-prefectures").append(option);
            });

            // Trigger change to load cities if a prefecture is preselected
            if (selectedPrefecture) {
                $("#geoapi-prefectures").trigger("change");
            }
        });
    }

    // Initialize Cities when a prefecture is selected
    function geoApiChangePrefecture() {
        const selectedPrefecture = $("#geoapi-prefectures").val();
        $("#geoapi-cities").html('<option value="">Chọn Quận/Huyện</option>');
        $("#geoapi-towns").html('<option value="">Chọn Phường/Xã</option>');

        if (selectedPrefecture) {
            $.getJSON(geoapiUrl, { method: "getCities", prefecture: selectedPrefecture }, (json) => {
                const cities = json.response.location;
                cities.forEach((city) => {
                    const option = `<option value="${city.city}">${city.city}</option>`;
                    $("#geoapi-cities").append(option);
                });

                // Trigger change to load towns if a city is preselected
                if (selectedCity) {
                    $("#geoapi-cities").trigger("change");
                }
            });
        }
    }

    // Initialize Towns when a city is selected
    function geoApiChangeCity() {
        const selectedCity = $("#geoapi-cities").val();
        $("#geoapi-towns").html('<option value="">Chọn Phường/Xã</option>');

        if (selectedCity) {
            $.getJSON(geoapiUrl, { method: "getTowns", city: selectedCity }, (json) => {
                const towns = json.response.location;
                towns.forEach((town) => {
                    // Normalize and compare town names
                    const option = `<option value="${town.town}">${town.town}</option>`;
                    $("#geoapi-towns").append(option);
                });
            });
        }
    }

    // Attach change event listeners to dropdowns
    $(document).ready(() => {
        geoApiInitializePrefectures();

        $("#geoapi-prefectures").change(geoApiChangePrefecture);
        $("#geoapi-cities").change(geoApiChangeCity);
    });

</script>
</html>